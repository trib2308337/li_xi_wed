<!DOCTYPE html>
<html>
<head>
    <title>L√å X√å CHO M·∫§Y C·ª§C V√ÄNG</title>

    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: radial-gradient(circle at top, #ffe5b4, #ff9a9e);
            text-align: center;
        }

        h1 {
            margin-top: 50px;
            font-size: 52px;
            color: #b30000;
        }

        .container {
            margin-top: 80px;
            display: flex;
            gap: 120px;
            justify-content: center;
        }

        .lixi {
            width: 320px;
            height: 450px;
            border-radius: 40px;
            background: linear-gradient(145deg, #ff1a1a, #b30000);
            border: 8px solid gold;
            box-shadow: 
                0 25px 50px rgba(0,0,0,0.5),
                inset 0 0 30px rgba(255,215,0,0.4);
            color: gold;
            font-size: 42px;
            font-weight: bold;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .lixi::before {
            content: "Á¶è";
            position: absolute;
            top: 40px;
            font-size: 70px;
            opacity: 0.25;
        }

        .lixi:hover {
            transform: scale(1.08);
        }

        .opened {
            background: linear-gradient(145deg, #990000, #660000);
            cursor: default;
            transform: scale(0.95);
        }

        #secret {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 100px;
            font-weight: bold;
            color: gold;
            display: none;
            animation: glow 1s infinite alternate;
            text-shadow: 
                0 0 20px gold,
                0 0 40px orange,
                0 0 60px red;
        }

        @keyframes glow {
            from { transform: translate(-50%, -50%) scale(1); }
            to { transform: translate(-50%, -50%) scale(1.2); }
        }
    </style>
</head>

<body>

<h1>üéÅ L√å X√å CHO M·∫§Y C·ª§C V√ÄNG ‚ù§Ô∏è</h1>

<div class="container">
    <div class="lixi" onclick="openLixi(this,0)">M·ªû</div>
    <div class="lixi" onclick="openLixi(this,1)">M·ªû</div>
</div>

<div id="secret">üéâ SECRET 50K üéâ</div>

<!-- üîä √Çm thanh -->
<audio id="winSound" src="/static/secret.mp3"></audio>

<script>
function openLixi(element, index) {

    // NgƒÉn m·ªü l·∫°i
    if (element.classList.contains("opened")) return;

    fetch("/open/" + index)
        .then(res => res.json())
        .then(data => {

            element.innerText = (data.prize/1000) + "K";
            element.classList.add("opened");
            element.onclick = null;

            if (data.prize == 50000) {

                // Hi·ªán SECRET
                const secret = document.getElementById("secret");
                secret.style.display = "block";

                // Ph√°t √¢m thanh
                document.getElementById("winSound").play();

                // ·∫®n sau 4 gi√¢y
                setTimeout(() => {
                    secret.style.display = "none";
                }, 4000);
            }
        });
}
</script>

</body>
</html>
